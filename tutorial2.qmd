---
title: "tutorial2"
format: html
editor: visual
---

## 

```{r}

library(tidyverse)
library(forcats)
library(patchwork)
sales <- read_csv("https://raw.githubusercontent.com/hadley/sfhousing/master/house-sales.csv")
```

This data is tidy form.

```{r}
names(sales)
```

categorical variables: country, city, zip, street

numerical variables: price, br, lsqft, bsqft

temporal variables: year, date, date sold

For numeric variables:

|  |  |  |  |  |  |  |  |  |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|
|  |  |  |  |  |  |  |  |  |
|  | Plot type |  | What it shows |  | R example |  | Python/pandas-seaborn example |  |
|  |  |  |  |  |  |  |  |  |
|  | **Histogram** |  | Frequency distribution (binned counts) |  | `ggplot(df, aes(x = num)) + geom_histogram()` |  | `sns.histplot(df['num'])` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Density plot** |  | Smoothed estimate of the distribution |  | `geom_density()` |  | `sns.kdeplot(df['num'])` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Boxplot** |  | Center, spread, and outliers |  | `geom_boxplot()` |  | `sns.boxplot(x=df['num'])` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Violin plot** |  | Density + boxplot combined |  | `geom_violin()` |  | `sns.violinplot(x=df['num'])` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Scatterplot** |  | Relationship between two numeric variables |  | `geom_point(aes(y = num2))` |  | `sns.scatterplot(x='num', y='num2', data=df)` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Line plot** |  | Trends over a continuous or ordered index |  | `geom_line(aes(y = num2))` |  | `sns.lineplot(x='time', y='num', data=df)` |  |
|  |  |  |  |  |  |  |  |  |

For categorical variables:

|  |  |  |  |  |  |  |  |  |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|
|  |  |  |  |  |  |  |  |  |
|  | Plot type |  | What it shows |  | R example |  | Python/pandas-seaborn example |  |
|  |  |  |  |  |  |  |  |  |
|  | **Bar chart** |  | Counts (or pre-aggregated summaries) |  | `geom_bar(aes(x = cat))` |  | `sns.countplot(x='cat', data=df)` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Proportion bar (100%)** |  | Relative frequencies across categories |  | `geom_bar(aes(x=1, fill=cat), position="fill")` |  | `pd.crosstab(...).plot(kind='bar', stacked=True)` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Mosaic plot** |  | Joint distributions of two categoricals |  | `vcd::mosaic(~ cat1 + cat2, data=df)` |  | `from statsmodels.graphics.mosaicplot import mosaic; mosaic(df, ['cat1','cat2'])` |  |
|  |  |  |  |  |  |  |  |  |
|  | **Pie chart** |  | Proportions (use sparingly) |  | `coord_polar(theta='y') + geom_bar(...)` |  | `df['cat'].value_counts().plot.pie()` |  |
|  |  |  |  |  |  |  |  |  |

For a categorical and numerical variables

-   **Boxplot by category**

-   **Violin plot by category**

-   **Jittered stripplot overlaid on box/violin**

-   **Point + errorâ€bar plot**

```{r}
library(ggplot2)

# example data frame
df <- data.frame(
  category = rep(c("A", "B", "C"), each = 100),
  value    = c(rnorm(100, mean = 0,  sd = 1),
               rnorm(100, mean = 2,  sd = 0.5),
               rnorm(100, mean = 1,  sd = 1.5))
)

ggplot(df, aes(x = category, y = value)) +
  geom_violin(trim = FALSE) +
  geom_boxplot(width = 0.1, fill = "white") +
  labs(
    title = "Sample Violin Plot",
    x     = "Category",
    y     = "Value"
  ) +
  theme_minimal()

```

```{r}
library(ggplot2)

df1 <- sales |>

ggplot(sales, aes(x = year, y = price))+
  geom_line()+
  labs(y= "Average price(millions)")

ggplot(sales, aes(x= year, y = sales number))+
  geom_line()+
  labs(y= "Number of sales")
```
